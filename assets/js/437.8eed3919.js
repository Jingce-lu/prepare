(window.webpackJsonp=window.webpackJsonp||[]).push([[437],{547:function(s,a,t){"use strict";t.r(a);var n=t(1),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"vue组件编码规范"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#vue组件编码规范","aria-hidden":"true"}},[s._v("#")]),s._v(" VUE组件编码规范")]),s._v(" "),t("h3",{attrs:{id:"相关文档"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#相关文档","aria-hidden":"true"}},[s._v("#")]),s._v(" 相关文档")]),s._v(" "),t("ul",[t("li",[s._v("vue 1.x: [http://v1.vuejs.org/api/]")]),s._v(" "),t("li",[s._v("vue-ressource 1.x: [https://github.com/pagekit/vue-resource/blob/develop/docs/http.md]")]),s._v(" "),t("li",[s._v("vue-router 0.x: [https://github.com/vuejs/vue-router/tree/1.0/docs/zh-cn]")])]),s._v(" "),t("p",[t("code",[s._v("请注意区分项目使用的库版本及相关文档，以上三个包都在vue.dll.js依赖包里")])]),s._v(" "),t("h3",{attrs:{id:"项目通过组件来规划"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#项目通过组件来规划","aria-hidden":"true"}},[s._v("#")]),s._v(" 项目通过组件来规划")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v(" // 示例项目aaa\n aaa/\n \tcomponents/ : 项目内组件\n \tpages/ : 项目视图存放目录\n \thtml/: 项目页面存放目录\n \t\tindex.hbs \n \tindex.js: 项目入口文件\n \n // index.hbs , 尽量只用一个标记，无其他内容\n \t<div id=\"main\">\n \t\t// 如果有seo相关内容，凡在里面，作为slot插入组件内\n \t\t<div class=\"banner\" slot=\"banner\"></div>\n \t</div>\n \n // index.js\n // 若项目不复杂，可直接使用template\n \tnew Vue({\n \t\tel: '#main',\n \t\ttemplate: `\n \t\t\t<component-a></component-a>\n \t\t\t<component-b></component-b>\n \t\t\t<component-c></component-c>\n \t\t`,\n \t\tcomponents: {componentA,componentB,componentC}\n \t})\n // 相对复杂的项目或使用路由的项目，建立页面级别的组件\n \tnew Vue({\n \t\tel : '#main',\n \t\ttemplate: `<index></index>`,\n \t\tcomponents: {Index}\n \t})\n // pages/index.vue\n <template>\n \t<component-a></component-a>\n \t<component-b></component-b>\n  \t<component-c></component-c>\n <template>\n <script>\n export default {\n \tname: 'index'\n }\n <\/script>\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br")])]),t("h3",{attrs:{id:"目录划分"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#目录划分","aria-hidden":"true"}},[s._v("#")]),s._v(" 目录划分")]),s._v(" "),t("ul",[t("li",[s._v("libs/vue-components ： 用于存放全项目公用的vue组件")]),s._v(" "),t("li",[s._v("xxx/components: 比如xinche.m/components, 用于存放单一项目公用的vue组件, 或跟此单一项目业务强相关的vue组件")]),s._v(" "),t("li",[s._v("xxx/yyy/components: 比如xinche.m/about/components, 用于存放子项目自己使用的vue组件，一般不提供给外部其他项目使用")])]),s._v(" "),t("h3",{attrs:{id:"公用组件目录结构"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#公用组件目录结构","aria-hidden":"true"}},[s._v("#")]),s._v(" 公用组件目录结构")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v(" xxx/\n \tindex.vue : 主组件文件\n \t*.png/*.gif : 组件使用的图片（公用组件尽量不要使用大于10k的图片）\n \tREADME.md: 组件使用说明文档\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h3",{attrs:{id:"组件命名"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#组件命名","aria-hidden":"true"}},[s._v("#")]),s._v(" 组件命名")]),s._v(" "),t("ul",[t("li",[s._v("有意义的， 简短，具有可读性。2-3个单词")]),s._v(" "),t("li",[s._v("符合自定义元素规范，使用-连字符分隔单词， 如app-header")])]),s._v(" "),t("h3",{attrs:{id:"组件单一原则"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#组件单一原则","aria-hidden":"true"}},[s._v("#")]),s._v(" 组件单一原则")]),s._v(" "),t("ul",[t("li",[s._v("每一个vue组件专注于解决单一的问题，独立，可复用")]),s._v(" "),t("li",[s._v("一个组件尽量不要超过100行，如果组件太臃肿，需要拆分成更小的组件")])]),s._v(" "),t("h3",{attrs:{id:"props原子化"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#props原子化","aria-hidden":"true"}},[s._v("#")]),s._v(" props原子化")]),s._v(" "),t("p",[s._v("组件的props尽量使用原始数据类型，避免使用复杂对象")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v(' // 不适用复杂对象\n const option = {title:\'xxx\', inApp: true}\n <app-header :option="option"></app-header>\n \n  // 使用原始数据类型\n  // 注意inApp驼峰的props书写在组件标记内需要改成in-app类型\n  // 注意props值传入的如果不是字符串，需要v-bind:props来绑定\n  <app-header title="xxx" :in-app="true"></app-header>\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("h3",{attrs:{id:"验证组件的props"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#验证组件的props","aria-hidden":"true"}},[s._v("#")]),s._v(" 验证组件的props")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v(" // 尽量不使用简写props\n export default {\n  props: ['title', 'isApp']\n }\n \n // 验证props\n  export default {\n \tprops: {\n \t\ttitle: {\n \t\t\ttype: String,\n \t\t\tdefault: ,\n \t\t\trequired: true\n \t\t},\n \t\tisApp: {\n \t\t\ttype: Boolean,\n \t\t\tdefault: false\n \t\t}\n \t}\n }\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br")])]),t("h3",{attrs:{id:"合理使用this"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#合理使用this","aria-hidden":"true"}},[s._v("#")]),s._v(" 合理使用this")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v(" // 组件内不要出现如下之类\n const self = this\n // 充分利用es6特性，使用this\n created(){\n \tthis.title = 123\n }\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h3",{attrs:{id:"组件使用name"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#组件使用name","aria-hidden":"true"}},[s._v("#")]),s._v(" 组件使用name")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v(" // 单一组件的导出不建议指定名称, 直接使用default导出\n export default {}\n // 组件建议添加name属性\n export default {\n \tname: 'appHeader\"\n }\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h3",{attrs:{id:"组件不要使用双向绑定的props"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#组件不要使用双向绑定的props","aria-hidden":"true"}},[s._v("#")]),s._v(" 组件不要使用双向绑定的props")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v(' // 不要使用.sync类型的props\n <app-header :title.sync="title"></app-header>\n export default {\n \tprops: {\n \t\ttype: String,\n \t\ttwoway: true\n \t}\n }\n // 子组件通知父级数据变更，应采用调用父级传入的函数型props回调，或者事件通知的方式\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("h3",{attrs:{id:"避免使用this-parent"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#避免使用this-parent","aria-hidden":"true"}},[s._v("#")]),s._v(" 避免使用this.$parent")]),s._v(" "),t("p",[s._v("直接访问上下文降低了组建的复用性，应避免使用，尽量通过事件通知")]),s._v(" "),t("h3",{attrs:{id:"尽量使用this-http而不是jquery-ajax"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#尽量使用this-http而不是jquery-ajax","aria-hidden":"true"}},[s._v("#")]),s._v(" 尽量使用this.$http而不是jquery.ajax")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("vue组件应尽量使用自己的resource插件，符合promise规范\n // 最外层需要将插件引入\n import Vue from 'vue'\n import VueResource from 'vue-resource'\n Vue.use(VueResource)\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h3",{attrs:{id:"组件内尽量不要直接使用window上的全局变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#组件内尽量不要直接使用window上的全局变量","aria-hidden":"true"}},[s._v("#")]),s._v(" 组件内尽量不要直接使用window上的全局变量")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v(' // 不要使用window上的全局变量，降低组件复用性和增加维护成本\n this.$http.get(APIURL, {})\n \n // 通过props传入组件的所有外部依赖\n <app-header api="xxx/yyy/to/path"></app-header>\n this.$http.get(this.api, {})\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h3",{attrs:{id:"props向下传递，事件向上传递"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#props向下传递，事件向上传递","aria-hidden":"true"}},[s._v("#")]),s._v(" props向下传递，事件向上传递")]),s._v(" "),t("h3",{attrs:{id:"当必须要操作dom时，才使用this-refs-而不是jquery"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#当必须要操作dom时，才使用this-refs-而不是jquery","aria-hidden":"true"}},[s._v("#")]),s._v(" 当必须要操作dom时，才使用this.$refs, 而不是jQuery")]),s._v(" "),t("h3",{attrs:{id:"组件顶级class规范化，建议component-xxx开头命名"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#组件顶级class规范化，建议component-xxx开头命名","aria-hidden":"true"}},[s._v("#")]),s._v(" 组件顶级class规范化，建议component-xxx开头命名")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v(' <template>\n \t<div class="component-xxx">\n \t\txxx\n \t</div>\n </template>\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h3",{attrs:{id:"提供api文档"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#提供api文档","aria-hidden":"true"}},[s._v("#")]),s._v(" 提供api文档")]),s._v(" "),t("p",[s._v("建议组件api文档写到组件同目录README.md里")])])}),[],!1,null,null,null);a.default=e.exports}}]);