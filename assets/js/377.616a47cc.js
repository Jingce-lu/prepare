(window.webpackJsonp=window.webpackJsonp||[]).push([[377],{547:function(t,s,a){"use strict";a.r(s);var e=a(1),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"深入理解-document-referrer-的用法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#深入理解-document-referrer-的用法","aria-hidden":"true"}},[t._v("#")]),t._v(" 深入理解 document.referrer 的用法")]),t._v(" "),a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#document-referrer"}},[t._v("document.referrer")])]),a("li",[a("a",{attrs:{href:"#为什么通常在发送数据埋点请求的时候使用的是-1x1-像素的透明-gif-图片？"}},[t._v("为什么通常在发送数据埋点请求的时候使用的是 1x1 像素的透明 gif 图片？")])])])]),a("p"),t._v(" "),a("h2",{attrs:{id:"document-referrer"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#document-referrer","aria-hidden":"true"}},[t._v("#")]),t._v(" document.referrer")]),t._v(" "),a("p",[t._v("在 JavaScript 中，document 对象有很多属性，其中有 3 个与对网页的请求有关的属性，它们分别是 URL、domain 和 referrer。"),a("br"),t._v("\nURL 属性包含页面完整的 URL，domain 属性中只包含页面的域名，而 referrer 属性中则保存着链接到当前页面的那个页面的 URL。")]),t._v(" "),a("p",[t._v("前面两个很好理解，而 referrer 属性简单来说就是上一个页面的 URL。那么这个属性具体有什么用处呢？\n在 H5 页面中，我们经常要在头部加个返回上一个页面按钮，就像下面这样的：")]),t._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("img",{attrs:{src:t.$withBase("/images/js/collection/2020061001.jpg"),alt:"js/collection/2020061001.jpg"}})]),t._v(" "),a("p",[t._v("点击左侧的元素可以返回到上一个页面，我们可以简单写一段 JS 代码：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" back "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"back"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//假设该返回按钮元素id为back")]),t._v("\nback"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onclick")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  history"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("back")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//返回上一个页面，也可以写成history.go(-1)")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 或者")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("a id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"back"')]),t._v(" href"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"javascript:history.back();"')]),t._v(" rel"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"external nofollow"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("a"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])]),a("p",[t._v("虽说感觉上面这样已经基本上实现了返回上一页的功能，但是有一种情况没有考虑到（我们程序员还是要严谨一点嘛），就是假如该页面是别人分享过来的而不是通过其他页面进入的呢？那么点击该按钮将不会有任何反应，因为此时 history 对象中不存在历史记录，也就是说这是你浏览器窗口打开时浏览的第一个页面。"),a("br"),t._v("\n为了优化用户体验，这里通常有两种解决方案。一种是在打开第一个页面时不显示返回上一页按钮，另一种是点击直接跳转到网站首页，这可以根据产品需求来选择合适的方案。\n这里假设选择第一种方案，我们可以这样写段 JS:")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("referrer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  back"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("display "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"block"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//默认让其隐藏，当referrer属性不为空时让其显示")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//分享页 返回上一页")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("referrer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 没有来源页面信息的时候，改成首页URL地址")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("$")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('".jsBack"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("attr")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"href"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br")])]),a("p",[t._v("其实判断当前页面是否是用户一开始打开的页面，方法也不止通过判断 referrer 属性这一种方法，还可以通过 history.length 是否为零来判断。")]),t._v(" "),a("p",[t._v("浏览器支持情况：")]),t._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("img",{attrs:{src:t.$withBase("/images/js/collection/2020061002.jpg"),alt:"js/collection/2020061002.jpg"}})]),t._v(" "),a("p",[t._v("关于 HTTPS 请求\n如果在一张普通的 HTTP 页面上点击了 HTTPS 的链接，那么在 https 请求头部可以附上 Referer 信息，之后在 HTTPS 页面中依然可以用 document.referre 来获得普通的 http 页面。")]),t._v(" "),a("p",[t._v("同样，如果是在一张 https 页面上点击了另一个 HTTPS 的链接，可以在请求的头部附上 Referer 信息。")]),t._v(" "),a("p",[t._v("但是如果是从一张 https 页面点击了 http 链接，那么很不幸，发送的 http 请求头里无法包含关于 https 页面的信息，这可能是出于一种对 https 页面的保护措施。\n伪造 Referer 信息\n根据上文的描述，document.referre 源自于 Header 中的 Referer。那么如果想修改 document.referre 的值，理论上讲，仅需要修改请求 Header。可以将 Header 中现有的 Referer 替换成自己想要的值，如果原来没有也可以添加 Referer。")]),t._v(" "),a("p",[t._v("在客户端，篡改 Header 是一件非常容易的事情。在一个页面的 http 请求发出去之前，可以利用截包工具将其拦截，然后分析出头部信息，并且修改 Referre。")]),t._v(" "),a("p",[t._v("搜了一下，对于 FireFox 可以使用 RefControl 插件方便的进行修改。总之，欺骗 Traffic source 是轻而易举的事情。")]),t._v(" "),a("p",[t._v("页面强制 Refresh")]),t._v(" "),a("div",{staticClass:"language-html line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("http-equiv")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("Refresh"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("content")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("5;URL=a.html"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("则过 5 秒后浏览器会自动向 server 发起 a 页面请求。")]),t._v(" "),a("p",[t._v("经过测试，在 IE8，FF3.6-FF4.0 中，均不会带有 Referer 信息，但是 chrome 却能够鬼使神差的把 b.html 作为 Referer 添加进头部。\n几种意外丢失情况：")]),t._v(" "),a("ol",[a("li",[t._v("直接在浏览器中输入地址")]),t._v(" "),a("li",[t._v("使用 location.reload()刷新（location.href 或者 location.replace()刷新有信息）")]),t._v(" "),a("li",[t._v("在微信对话框中，点击进入微信自身浏览器,")]),t._v(" "),a("li",[t._v("扫码进入微信或 QQ 的浏览器")]),t._v(" "),a("li",[t._v("直接新窗口打开一个页面")]),t._v(" "),a("li",[t._v("从 https 的网站直接进入一个 http 协议的网站（Chrome 下亲测）,")]),t._v(" "),a("li",[t._v('a 标签设置 rel="noreferrer"（兼容 IE7+）')]),t._v(" "),a("li",[t._v("meta 标签来控制不让浏览器发送 referer")]),t._v(" "),a("li",[t._v("点击 flash 内部链接")]),t._v(" "),a("li",[t._v("Chrome4.0 以下，IE 5.5+以下返回空的字符串,使用 修改 Location 进行页面导航的方法，会导致在 IE 下丢失 referrer，这可能是 IE 的一个 BUG")]),t._v(" "),a("li",[t._v("跨域")]),t._v(" "),a("li",[t._v("iframe 隐藏")])]),t._v(" "),a("p",[t._v("结论：如果你需要通过 "),a("code",[t._v("document.referrer")]),t._v(" 采集页面访问来源，最好不要使用 JS 跳转或打开新窗口，也不要使用 meta 跳转。")]),t._v(" "),a("p",[t._v("referrer 的作用：")]),t._v(" "),a("ol",[a("li",[t._v("统计来源，可以统计数量，可以拒绝访问")]),t._v(" "),a("li",[t._v("返回上一页逻辑判断")])]),t._v(" "),a("h2",{attrs:{id:"为什么通常在发送数据埋点请求的时候使用的是-1x1-像素的透明-gif-图片？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#为什么通常在发送数据埋点请求的时候使用的是-1x1-像素的透明-gif-图片？","aria-hidden":"true"}},[t._v("#")]),t._v(" 为什么通常在发送数据埋点请求的时候使用的是 1x1 像素的透明 gif 图片？")]),t._v(" "),a("p",[t._v("作用：工作中，用于前端监控，比如曝光等等，谷歌和百度的都是用的 1x1 像素的透明 gif 图片；")]),t._v(" "),a("p",[t._v("why?")]),t._v(" "),a("ol",[a("li",[t._v("没有跨域问题，一般这种上报数据，代码要写通用的；（排除 ajax）")]),t._v(" "),a("li",[t._v("不会阻塞页面加载，影响用户的体验，只要 new Image 对象就好了；（排除 JS/CSS 文件资源方式上报）")]),t._v(" "),a("li",[t._v("在所有图片中，体积最小；（比较 PNG/JPG）")])]),t._v(" "),a("p",[t._v("补充:")]),t._v(" "),a("ol",[a("li",[t._v("能够完成整个 HTTP 请求+响应（尽管不需要响应内容）")]),t._v(" "),a("li",[t._v("触发 GET 请求之后不需要获取和处理数据、服务器也不需要发送数据")]),t._v(" "),a("li",[t._v("跨域友好")]),t._v(" "),a("li",[t._v("执行过程无阻塞")]),t._v(" "),a("li",[t._v("相比 XMLHttpRequest 对象发送 GET 请求，性能上更好")]),t._v(" "),a("li",[t._v("GIF 的最低合法体积最小（最小的 BMP 文件需要 74 个字节，PNG 需要 67 个字节，而合法的 GIF，只需要 43 个字节）")]),t._v(" "),a("li",[t._v("图片请求不占用 Ajax 请求限额")])]),t._v(" "),a("p",[t._v("英文术语叫："),a("code",[t._v("image beacon")]),a("br"),t._v("\n在 Google 的 Make the Web Faster 的 #Track web traffic in the background 中有提到。")]),t._v(" "),a("p",[t._v("主要应用于只需要向服务器发送数据(日志数据)的场合，且无需服务器有消息体回应。比如收集访问者的统计信息。")]),t._v(" "),a("p",[t._v('一般做法是服务器用一个 1x1 的 gif 图片来作为响应，当然这有点浪费服务器资源。因此用 header 来响应比较合适，目前比较合适的做法是服务器发送"204 No Content"，即“服务器成功处理了请求，但不需要返回任何实体内容”。')]),t._v(" "),a("p",[t._v("另外该脚本的位置一般放在页面最后以免阻塞页面渲染,并且一般情况下也不需要 append 到 DOM 中。通过它的 onerror 和 onload 事件来检测发送状态。")]),t._v(" "),a("div",{staticClass:"language-html line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("text/javascript"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token script"}},[a("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" thisPage "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" location"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("href"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" referringPage "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("referrer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("referrer "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"none"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" beacon "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  beacon"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://www.example.com/logger/beacon.gif?page="')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("encodeURI")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("thisPage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"&ref="')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("encodeURI")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("referringPage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br")])]),a("p",[t._v("这样做和 ajax 请求的区别在于：")]),t._v(" "),a("ol",[a("li",[t._v("只能是 get 请求，因此可发送的数据量有限。")]),t._v(" "),a("li",[t._v("只关心数据是否发送到服务器，服务器不需要做出消息体响应。并且一般客户端也不需要做出响应。")]),t._v(" "),a("li",[t._v("实现了跨域。")])])])}),[],!1,null,null,null);s.default=n.exports}}]);