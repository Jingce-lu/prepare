(window.webpackJsonp=window.webpackJsonp||[]).push([[411],{573:function(s,e,t){"use strict";t.r(e);var i=t(1),a=Object(i.a)({},(function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"vue中实现-2x和-3x图片加载，以及cssmap的使用方式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#vue中实现-2x和-3x图片加载，以及cssmap的使用方式","aria-hidden":"true"}},[s._v("#")]),s._v(" vue中实现@2x和@3x图片加载，以及cssmap的使用方式")]),s._v(" "),t("p",[s._v("在前端开发中因为屏幕像素比的关系，经常要根据各种型号手机的dpi来加载不同分辨率的图片，来提高性能以及更好的展示")]),s._v(" "),t("img",{attrs:{src:s.$withBase("/images/js/mobile/19120601.png"),alt:"js/mobile/19120601.png"}}),s._v(" "),t("p",[s._v("在vue开发中秉承组件化的开发原则，所有和该组件相关的图片应该和该组件在一个文件夹下，所以把这个组件全部相关的图片放入组件目录下，并按相同的规律命名文件")]),s._v(" "),t("img",{attrs:{src:s.$withBase("/images/js/mobile/19120602.png"),alt:"js/mobile/19120602.png"}}),s._v(" "),t("p",[s._v("接下来定义一个mixin.less")]),s._v(" "),t("img",{attrs:{src:s.$withBase("/images/js/mobile/19120603.png"),alt:"js/mobile/19120603.png"}}),s._v(" "),t("p",[s._v("在组件的样式中引入这个混合变量，调用方式很简单：")]),s._v(" "),t("img",{attrs:{src:s.$withBase("/images/js/mobile/19120604.png"),alt:"js/mobile/19120604.png"}}),s._v(" "),t("p",[s._v("这样这个图标就能根据当前设备不同的dpi加载不同的图片了")]),s._v(" "),t("img",{attrs:{src:s.$withBase("/images/js/mobile/19120605.png"),alt:"js/mobile/19120605.png"}}),s._v(" "),t("p",[s._v("接下来在这个区块的图标也一样，只不过这个图标需要根据后台传递进来不同的参数来显示不同的图标")]),s._v(" "),t("img",{attrs:{src:s.$withBase("/images/js/mobile/19120606.png"),alt:"js/mobile/19120606.png"}}),s._v(" "),t("p",[s._v("mock数据已经列出了全部可能展现的情况")]),s._v(" "),t("img",{attrs:{src:s.$withBase("/images/js/mobile/19120607.png"),alt:"js/mobile/19120607.png"}}),s._v(" "),t("p",[s._v("因此我们这样写less，根据不同的类名来显示不同图片")]),s._v(" "),t("img",{attrs:{src:s.$withBase("/images/js/mobile/19120608.png"),alt:"js/mobile/19120608.png"}}),s._v(" "),t("p",[s._v("在组件的created钩子中添加一个cssmap,根据获取的索引一一对应到相应的图标上，完成根据后台数据的动态加载图标的需求")]),s._v(" "),t("img",{attrs:{src:s.$withBase("/images/js/mobile/19120609.png"),alt:"js/mobile/19120609.png"}}),s._v(" "),t("p",[s._v("改变json数据测试一下（改变mock数据测试需要重启webserver）")]),s._v(" "),t("img",{attrs:{src:s.$withBase("/images/js/mobile/19120610.png"),alt:"js/mobile/19120610.png"}})])}),[],!1,null,null,null);e.default=a.exports}}]);